<div class="application-dialog">

  <mat-accordion>
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header color="primary">
        <mat-panel-title>
          <div>{{ item.application }} - {{ item.name }}</div>
        </mat-panel-title>
      </mat-expansion-panel-header>
            <div>Created: {{ item.created | date: 'dd/MM/yyyy HH:mm:ss' }}</div>
            <div>Last Update: {{ item.updated | date: 'dd/MM/yyyy HH:mm:ss' }}</div>
            <div>Status: {{ item.status }}</div>
    </mat-expansion-panel>
  </mat-accordion>

  <mat-toolbar>
    <mat-label style="color: teal">Roles</mat-label>
    <span class="spacer"></span>
    <button matSuffix mat-icon-button (click)="showAddRole(item)">
      <mat-icon color="primary">playlist_add</mat-icon>
    </button>
  </mat-toolbar>

  <cdk-virtual-scroll-viewport itemSize="50" class="scroll-viewport">
    <mat-table [dataSource]="item.roles" class="mat-elevation-z8">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef> Code </mat-header-cell>
        <mat-cell *matCellDef="let role"> {{role.code}} </mat-cell>
      </ng-container>
    
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef> Role </mat-header-cell>
        <mat-cell *matCellDef="let role">
          <span class="text-item-enterpoint" (click)="showRoleProperties(role)">{{role.name}}</span> 
        </mat-cell>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="status">
        <mat-header-cell *matHeaderCellDef> Status </mat-header-cell>
        <mat-cell *matCellDef="let role"> {{role.status}} </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>   
  </cdk-virtual-scroll-viewport>

<div class="menu-footer">
  <div mat-dialog-actions>
    <button mat-button mat-dialog-close color="warn"(click)="onCancel()">Cancel</button>
  </div>
  <div mat-dialog-actions>
    <button mat-button mat-dialog-close color="primary"(click)="onSubmit()">Save</button>
  </div>
</div>

</div>